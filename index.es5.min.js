"use strict";var clientId="f1c8b84c85ea439db955254bbf990929",redirect_url=""+location.origin+location.pathname.replace("index.html","")+"auth.html",authUrl="https://www.instagram.com/oauth/authorize/?client_id="+clientId+"&redirect_uri="+redirect_url+"&response_type=token",app=new Vue({el:"#app",data:{datas:[],userId:"",token:"",name:"",picture:""},methods:{GetTokenAndId:function(){var n=this,t=window.open("auth.html","auth","toolbar=no,height=200,width=200,scrollbars=no,status=no");t.onload=function(){window.location.hash.length==0&&(t.location.href=authUrl);var i=setInterval(function(){try{if(console.log(window.location),t.location.hash.length){clearInterval(i);var r=t.location.hash.slice(14);t.close();n.token=r;$.ajax({url:"https://api.instagram.com/v1/users/self/?access_token="+n.token,type:"GET",data:{},dataType:"jsonp",success:function(t){console.log(t);n.userId=t.data.id;n.name=t.data.full_name;n.picture=t.data.profile_picture;n.GetPictures()}})}}catch(u){console.log(u);console.log("error");t.close();clearInterval(i)}},100)}},GetPictures:function(){var n=this;$.ajax({url:"https://api.instagram.com/v1/users/"+n.userId+"/media/recent/?access_token="+n.token,type:"GET",data:{},dataType:"jsonp",success:function(t){console.log(t);n.datas=t.data}})}},created:function(){}});